<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Model Router + Prompt Engineer - Live Demo</title>
    <style>
        :root {
            --color-primary: #208091;
            --color-primary-hover: #1a6577;
            --color-primary-active: #145361;
            --color-bg: #f8f9fa;
            --color-surface: #ffffff;
            --color-text: #1f2937;
            --color-text-secondary: #6b7280;
            --color-border: #e5e7eb;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-error: #ef4444;
            --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            --space-4: 4px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;
            --radius-base: 8px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-16);
        }

        .header {
            background: linear-gradient(135deg, #208091 0%, #145361 100%);
            color: white;
            padding: var(--space-24);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-32);
            box-shadow: var(--shadow-md);
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: var(--space-8);
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .step-indicator {
            display: flex;
            gap: var(--space-16);
            margin-bottom: var(--space-32);
            flex-wrap: wrap;
        }

        .step {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .step-badge {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--color-border);
            color: var(--color-text);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
        }

        .step.active .step-badge {
            background: var(--color-primary);
            color: white;
        }

        .step.completed .step-badge {
            background: var(--color-success);
            color: white;
        }

        .step-label {
            font-size: 12px;
            color: var(--color-text-secondary);
            font-weight: 500;
        }

        .step.active .step-label {
            color: var(--color-primary);
            font-weight: 600;
        }

        .card {
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            padding: var(--space-24);
            margin-bottom: var(--space-24);
            box-shadow: var(--shadow-sm);
        }

        .card h2 {
            font-size: 20px;
            margin-bottom: var(--space-16);
            color: var(--color-text);
        }

        .form-group {
            margin-bottom: var(--space-16);
        }

        .form-label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: var(--space-8);
            color: var(--color-text);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            font-family: var(--font-family);
            font-size: 14px;
            color: var(--color-text);
            background: white;
            transition: border-color 0.2s;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(32, 128, 145, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .btn {
            padding: var(--space-12) var(--space-20);
            border: none;
            border-radius: var(--radius-base);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: var(--space-8);
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
        }

        .btn-primary:active {
            background: var(--color-primary-active);
        }

        .btn-secondary {
            background: transparent;
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
        }

        .btn-secondary:hover {
            background: rgba(32, 128, 145, 0.05);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-16);
            margin-bottom: var(--space-24);
        }

        .model-card {
            background: var(--color-surface);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-base);
            padding: var(--space-16);
            transition: all 0.2s;
            cursor: pointer;
        }

        .model-card:hover {
            border-color: var(--color-primary);
            box-shadow: var(--shadow-md);
        }

        .model-card.selected {
            border-color: var(--color-primary);
            background: rgba(32, 128, 145, 0.02);
        }

        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-12);
        }

        .model-name {
            font-weight: 600;
            color: var(--color-text);
        }

        .model-rank {
            background: var(--color-primary);
            color: white;
            padding: var(--space-4) var(--space-8);
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .model-metric {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin-bottom: var(--space-8);
        }

        .metric-label {
            color: var(--color-text-secondary);
        }

        .metric-value {
            font-weight: 600;
            color: var(--color-text);
        }

        .badge {
            display: inline-block;
            padding: var(--space-4) var(--space-8);
            background: rgba(32, 128, 145, 0.1);
            color: var(--color-primary);
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-right: var(--space-8);
            margin-bottom: var(--space-8);
        }

        .result-item {
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            padding: var(--space-16);
            margin-bottom: var(--space-16);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-12);
            padding-bottom: var(--space-12);
            border-bottom: 1px solid var(--color-border);
        }

        .result-model {
            font-weight: 600;
            color: var(--color-text);
        }

        .result-meta {
            display: flex;
            gap: var(--space-8);
            font-size: 12px;
            color: var(--color-text-secondary);
        }

        .result-content {
            background: white;
            padding: var(--space-12);
            border-radius: 4px;
            line-height: 1.6;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid var(--color-border);
        }

        .hidden {
            display: none;
        }

        .prompt-section {
            background: var(--color-bg);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-12);
            border-left: 4px solid var(--color-primary);
        }

        .prompt-section-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--color-text-secondary);
            margin-bottom: var(--space-8);
        }

        .prompt-section-content {
            color: var(--color-text);
            font-size: 14px;
            line-height: 1.6;
        }

        .flex {
            display: flex;
            gap: var(--space-16);
        }

        .cost-estimate {
            background: linear-gradient(135deg, rgba(32, 128, 145, 0.05) 0%, rgba(32, 128, 145, 0.02) 100%);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin-top: var(--space-16);
        }

        .cost-row {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: var(--space-8);
        }

        .cost-total {
            border-top: 1px solid var(--color-border);
            padding-top: var(--space-12);
            margin-top: var(--space-12);
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .container {
                padding: var(--space-12);
            }
            .header {
                padding: var(--space-16);
            }
            .header h1 {
                font-size: 20px;
            }
            .grid {
                grid-template-columns: 1fr;
            }
            .flex {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ü§ñ AI Model Router + Prompt Engineer</h1>
            <p>Smart task classification, prompt optimization, and multi-model orchestration</p>
        </div>

        <!-- Step Indicator -->
        <div class="step-indicator">
            <div class="step completed">
                <div class="step-badge">‚úì</div>
                <div class="step-label">Request</div>
            </div>
            <div class="step" id="step-clarify">
                <div class="step-badge">2</div>
                <div class="step-label">Clarify</div>
            </div>
            <div class="step" id="step-prompt">
                <div class="step-badge">3</div>
                <div class="step-label">Engineer</div>
            </div>
            <div class="step" id="step-route">
                <div class="step-badge">4</div>
                <div class="step-label">Route</div>
            </div>
            <div class="step" id="step-results">
                <div class="step-badge">5</div>
                <div class="step-label">Results</div>
            </div>
        </div>

        <!-- Request Input Screen -->
        <div id="screen-request" class="card">
            <h2>What do you need help with?</h2>
            <div class="form-group">
                <label class="form-label">Describe your task in plain English</label>
                <textarea id="user-input" class="form-textarea" placeholder="Example: I need to write a compelling product description for a SaaS tool that helps teams manage AI model costs..."></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">Select your primary focus (optional)</label>
                <select id="task-hint" class="form-select">
                    <option value="">Auto-detect</option>
                    <option value="copywriting">üìù Copywriting (ads, descriptions, content)</option>
                    <option value="coding">üíª Coding & Technical (bugs, implementation)</option>
                    <option value="research">üîç Research & Information (analysis, summaries)</option>
                    <option value="brainstorming">üí° Brainstorming & Ideation (creative ideas)</option>
                    <option value="translation">üåê Translation & Language (multi-language)</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="classifyRequest()">Analyze & Continue</button>
        </div>

        <!-- Clarifying Questions Screen -->
        <div id="screen-clarify" class="card hidden">
            <h2>Quick clarifications</h2>
            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-16);">Just a few questions to nail the prompt:</p>
            <div id="clarify-questions"></div>
            <button class="btn btn-primary" onclick="proceedToPromptEngineering()">Continue to Prompt Engineering</button>
            <button class="btn btn-secondary" style="margin-left: var(--space-8);" onclick="goBack('request')">Back</button>
        </div>

        <!-- Prompt Engineering Screen -->
        <div id="screen-prompt" class="card hidden">
            <h2>Engineered Prompt</h2>
            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-16);">This is the structured prompt that will be sent to AI models:</p>
            
            <div class="prompt-section">
                <div class="prompt-section-label">Role</div>
                <div class="prompt-section-content" id="prompt-role">You are an expert copywriter.</div>
            </div>

            <div class="prompt-section">
                <div class="prompt-section-label">Context</div>
                <div class="prompt-section-content" id="prompt-context">Writing product description for SaaS tool.</div>
            </div>

            <div class="prompt-section">
                <div class="prompt-section-label">Constraints</div>
                <div class="prompt-section-content" id="prompt-constraints">
                    <ul style="margin-left: var(--space-16);">
                        <li>Word count: 100-150 words</li>
                        <li>Tone: Professional but friendly</li>
                        <li>Must include: Value proposition, call-to-action</li>
                    </ul>
                </div>
            </div>

            <div class="prompt-section">
                <div class="prompt-section-label">Output Format</div>
                <div class="prompt-section-content" id="prompt-format">Markdown</div>
            </div>

            <div class="prompt-section">
                <div class="prompt-section-label">Quality Rubric</div>
                <div class="prompt-section-content" id="prompt-rubric">
                    <ul style="margin-left: var(--space-16);">
                        <li>Clarity: Must be understandable by someone unfamiliar with AI APIs</li>
                        <li>Persuasion: Should create curiosity or sense of FOMO</li>
                        <li>Length: Between 100-150 words</li>
                    </ul>
                </div>
            </div>

            <div style="margin-top: var(--space-24); padding-top: var(--space-16); border-top: 1px solid var(--color-border);">
                <button class="btn btn-primary" onclick="proceedToRouting()">Approve & Find Best Models</button>
                <button class="btn btn-secondary" style="margin-left: var(--space-8);" onclick="goBack('clarify')">Refine Clarifications</button>
            </div>
        </div>

        <!-- Model Routing Screen -->
        <div id="screen-route" class="card hidden">
            <h2>Recommended Models</h2>
            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-16);">Select models to compare. We recommend running 2-3 for best results:</p>
            
            <div id="models-grid" class="grid"></div>

            <div style="margin-top: var(--space-24); padding-top: var(--space-16); border-top: 1px solid var(--color-border);">
                <label class="form-label">Demo Note</label>
                <p style="color: var(--color-text-secondary); font-size: 12px; margin-bottom: var(--space-16);">This demo uses mock results. In production, provide your API keys to run real models.</p>
                
                <button class="btn btn-primary" onclick="runModels()">
                    Run <span id="selected-count">3</span> Models (Demo)
                </button>
                <button class="btn btn-secondary" style="margin-left: var(--space-8);" onclick="goBack('prompt')">Back</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="screen-results" class="card hidden">
            <h2>Results Comparison</h2>
            <p id="results-status" style="color: var(--color-text-secondary); margin-bottom: var(--space-16);">Running models...</p>
            
            <div id="results-container"></div>

            <div class="cost-estimate">
                <div class="form-label">Total Cost Estimate</div>
                <div class="cost-row">
                    <span>Combined tokens:</span>
                    <span id="cost-tokens">0</span>
                </div>
                <div class="cost-row cost-total">
                    <span>Total USD:</span>
                    <span id="cost-total" style="color: var(--color-primary);">$0.00</span>
                </div>
            </div>

            <div style="margin-top: var(--space-24); padding-top: var(--space-16); border-top: 1px solid var(--color-border);">
                <button class="btn btn-secondary" onclick="goBack('route')">Try Different Models</button>
                <button class="btn btn-secondary" style="margin-left: var(--space-8);" onclick="goBack('prompt')">Refine Prompt</button>
                <button class="btn btn-primary" style="margin-left: var(--space-8);" onclick="newRequest()">New Request</button>
            </div>
        </div>
    </div>

    <script>
        // Simple state management
        let state = {
            userInput: '',
            taskCategory: '',
            clarifications: {},
            engineeredPrompt: null,
            selectedModels: new Set(['gpt-4', 'claude-3-opus', 'gemini-pro']),
            results: {},
            currentScreen: 'request'
        };

        // Mock data
        const MODELS_DATA = {
            'gpt-4': {
                rank: 1,
                name: 'GPT-4',
                provider: 'OpenAI',
                score: 92,
                whyChosen: 'Excellent reasoning, best-in-class writing, handles complex tasks.',
                strengths: ['Superior writing quality', 'Excellent reasoning', 'Fast'],
                weaknesses: ['Highest cost', 'Rate limited'],
                costPerMtokens: 0.03,
                latencyMs: 2500,
                privacyNote: 'May train on inputs'
            },
            'claude-3-opus': {
                rank: 2,
                name: 'Claude 3 Opus',
                provider: 'Anthropic',
                score: 88,
                whyChosen: 'Excellent reasoning, strong writing, does not train on inputs.',
                strengths: ['Excellent reasoning', 'Clear explanations', 'Privacy-first'],
                weaknesses: ['Slightly slower', 'Newer model'],
                costPerMtokens: 0.025,
                latencyMs: 3500,
                privacyNote: 'No input training'
            },
            'gemini-pro': {
                rank: 3,
                name: 'Gemini Pro',
                provider: 'Google',
                score: 85,
                whyChosen: 'Balanced performance, lower cost, good for most tasks.',
                strengths: ['Good reasoning', 'Fast', 'Cost-effective'],
                weaknesses: ['Slightly less nuanced', 'Longer latency'],
                costPerMtokens: 0.015,
                latencyMs: 4000,
                privacyNote: 'Uses inputs for improvement'
            },
            'claude-3-sonnet': {
                rank: 4,
                name: 'Claude 3 Sonnet',
                provider: 'Anthropic',
                score: 82,
                whyChosen: 'Balanced performance with privacy.',
                strengths: ['Good reasoning', 'Privacy-first', 'Fast'],
                weaknesses: ['Slightly less capable', 'New model'],
                costPerMtokens: 0.015,
                latencyMs: 3000,
                privacyNote: 'No input training'
            }
        };

        const TASK_CATEGORIES = {
            'copywriting': {
                name: 'Copywriting',
                clarifications: [
                    { id: 'audience', question: 'Who is your target audience?', options: ['C-suite', 'Product managers', 'End users', 'Other'] },
                    { id: 'tone', question: 'What tone do you want?', options: ['Professional', 'Friendly & casual', 'Creative & bold', 'Technical'] }
                ],
                promptTemplate: {
                    role: 'You are an expert copywriter specializing in persuasive writing.',
                    context: 'You are writing for a SaaS product. Key features: Cost optimization, multi-model support, transparent pricing.',
                    constraints: ['Word count: 100-150 words', 'Tone: Friendly & casual', 'Target audience: Product managers', 'Must include: Value proposition, call-to-action'],
                    format: 'markdown',
                    rubric: ['Clarity', 'Persuasion', 'Brand voice', 'CTA present']
                }
            },
            'coding': {
                name: 'Coding',
                clarifications: [
                    { id: 'language', question: 'What programming language?', options: ['Python', 'JavaScript', 'Java', 'Go', 'Other'] }
                ],
                promptTemplate: {
                    role: 'You are an expert developer. Write clean, efficient code.',
                    context: 'Build an AI model routing system that classifies tasks and recommends models.',
                    constraints: ['Language: JavaScript', 'Framework: Vanilla (no external deps)', 'Style: Clean and readable', 'Include comments for complex logic'],
                    format: 'markdown with code blocks',
                    rubric: ['Correctness', 'Readability', 'Efficiency', 'Error handling']
                }
            },
            'research': {
                name: 'Research',
                clarifications: [
                    { id: 'focus', question: 'Research focus?', options: ['Academic', 'Industry trends', 'Technical deep-dive'] }
                ],
                promptTemplate: {
                    role: 'You are a research analyst. Synthesize information clearly.',
                    context: 'Topic: AI Model Routing. Focus on cost optimization and model selection strategies.',
                    constraints: ['Length: Medium (500-1000 words)', 'Include: Key findings, trends, future outlook', 'Citation style: APA'],
                    format: 'markdown',
                    rubric: ['Accuracy', 'Comprehensiveness', 'Structure', 'Currency']
                }
            },
            'brainstorming': {
                name: 'Brainstorming',
                clarifications: [
                    { id: 'ideas_count', question: 'How many ideas?', options: ['5', '10', '15'] }
                ],
                promptTemplate: {
                    role: 'You are a creative strategic thinker. Generate novel ideas.',
                    context: 'Generate innovative ideas for AI model router features and monetization.',
                    constraints: ['Generate 5 ideas', 'Focus on novelty and practicality', 'Consider user pain points'],
                    format: 'json array',
                    rubric: ['Novelty', 'Practicality', 'Feasibility']
                }
            },
            'translation': {
                name: 'Translation',
                clarifications: [
                    { id: 'to_lang', question: 'Translate to?', options: ['Spanish', 'French', 'German', 'Chinese'] }
                ],
                promptTemplate: {
                    role: 'You are a professional translator.',
                    context: 'Translate marketing copy about AI model routing into Spanish.',
                    constraints: ['Maintain tone', 'Preserve idioms', 'Cultural accuracy'],
                    format: 'plain text',
                    rubric: ['Accuracy', 'Fluency', 'Tone match']
                }
            }
        };

        function classifyRequest() {
            const input = document.getElementById('user-input').value.trim();
            const hint = document.getElementById('task-hint').value;

            if (input.length < 10) {
                alert('Please describe your task (at least 10 characters)');
                return;
            }

            state.userInput = input;

            // Simple classification
            if (hint) {
                state.taskCategory = hint;
            } else {
                const lower = input.toLowerCase();
                if (lower.includes('write') || lower.includes('copy') || lower.includes('description')) {
                    state.taskCategory = 'copywriting';
                } else if (lower.includes('code') || lower.includes('bug') || lower.includes('function')) {
                    state.taskCategory = 'coding';
                } else if (lower.includes('research') || lower.includes('analyze') || lower.includes('explain')) {
                    state.taskCategory = 'research';
                } else if (lower.includes('idea') || lower.includes('brainstorm') || lower.includes('creative')) {
                    state.taskCategory = 'brainstorming';
                } else {
                    state.taskCategory = 'research';
                }
            }

            // Show clarifications if needed
            const categoryConfig = TASK_CATEGORIES[state.taskCategory];
            if (categoryConfig && categoryConfig.clarifications.length > 0) {
                showScreen('clarify');
                renderClarifyingQuestions(categoryConfig.clarifications);
            } else {
                proceedToPromptEngineering();
            }
        }

        function renderClarifyingQuestions(questions) {
            const container = document.getElementById('clarify-questions');
            container.innerHTML = '';

            questions.forEach(q => {
                const group = document.createElement('div');
                group.className = 'form-group';
                group.innerHTML = `
                    <label class="form-label">${q.question}</label>
                    <select class="form-select" onchange="state.clarifications['${q.id}'] = this.value">
                        <option value="">Select...</option>
                        ${q.options.map(opt => `<option value="${opt}">${opt}</option>`).join('')}
                    </select>
                `;
                container.appendChild(group);
            });
        }

        function proceedToPromptEngineering() {
            const categoryConfig = TASK_CATEGORIES[state.taskCategory];
            const template = categoryConfig?.promptTemplate || {};

            state.engineeredPrompt = {
                role: template.role || 'You are an expert assistant.',
                context: template.context || 'Fulfill the user request.',
                constraints: template.constraints || [],
                format: template.format || 'plain text',
                rubric: template.rubric || []
            };

            // Render prompt sections
            document.getElementById('prompt-role').textContent = state.engineeredPrompt.role;
            document.getElementById('prompt-context').textContent = state.engineeredPrompt.context || 'Analyzing request...';
            document.getElementById('prompt-constraints').innerHTML = state.engineeredPrompt.constraints
                .map(c => `<li>${c}</li>`).join('') || '<li>No specific constraints</li>';
            document.getElementById('prompt-format').textContent = state.engineeredPrompt.format;
            document.getElementById('prompt-rubric').innerHTML = state.engineeredPrompt.rubric
                .map(r => `<li>${r}</li>`).join('') || '<li>General quality</li>';

            showScreen('prompt');
        }

        function proceedToRouting() {
            showScreen('route');
            renderModelRecommendations();
        }

        function renderModelRecommendations() {
            const container = document.getElementById('models-grid');
            container.innerHTML = '';

            Object.entries(MODELS_DATA).forEach(([key, model]) => {
                const isSelected = state.selectedModels.has(key);
                const card = document.createElement('div');
                card.className = `model-card ${isSelected ? 'selected' : ''}`;
                card.onclick = () => toggleModel(key);

                card.innerHTML = `
                    <div class="model-header">
                        <div>
                            <div class="model-name">${model.name}</div>
                            <div style="font-size: 12px; color: var(--color-text-secondary);">${model.provider}</div>
                        </div>
                        <div class="model-rank">#${model.rank}</div>
                    </div>
                    
                    <div style="font-size: 12px; font-weight: 500; margin-bottom: var(--space-8);">Match Score: <strong>${model.score}/100</strong></div>
                    
                    <div style="font-size: 12px; color: var(--color-text-secondary); margin-bottom: var(--space-12);">
                        ${model.whyChosen}
                    </div>

                    <div style="margin-bottom: var(--space-12);">
                        ${model.strengths.map(s => `<span class="badge">‚úì ${s}</span>`).join('')}
                    </div>

                    <div class="model-metric">
                        <span class="metric-label">Cost:</span>
                        <span class="metric-value">$${(model.costPerMtokens * 1.5).toFixed(4)} / 1M tokens</span>
                    </div>
                    <div class="model-metric">
                        <span class="metric-label">Latency:</span>
                        <span class="metric-value">~${model.latencyMs}ms</span>
                    </div>
                    <div style="font-size: 11px; color: var(--color-text-secondary); margin-top: var(--space-8);">
                        üîí ${model.privacyNote}
                    </div>

                    <div style="margin-top: var(--space-12); padding-top: var(--space-12); border-top: 1px solid var(--color-border); text-align: center; color: var(--color-primary); font-size: 12px; font-weight: 600;">
                        ${isSelected ? '‚úì Selected' : 'Click to select'}
                    </div>
                `;

                container.appendChild(card);
            });

            updateSelectedCount();
        }

        function toggleModel(key) {
            if (state.selectedModels.has(key)) {
                state.selectedModels.delete(key);
            } else {
                state.selectedModels.add(key);
            }
            renderModelRecommendations();
        }

        function updateSelectedCount() {
            document.getElementById('selected-count').textContent = state.selectedModels.size;
        }

        function runModels() {
            if (state.selectedModels.size === 0) {
                alert('Please select at least one model');
                return;
            }

            showScreen('results');
            simulateModelRuns();
        }

        function simulateModelRuns() {
            const container = document.getElementById('results-container');
            container.innerHTML = '';

            let completed = 0;
            let totalCost = 0;
            let totalTokens = 0;

            // Mock responses
            const mockResponses = {
                'gpt-4': 'ModelRouter is the intelligent orchestrator every AI team needs. In a world of fragmented language models, it intelligently routes your requests to the optimal provider‚Äîwhether that\'s OpenAI, Anthropic, or Google. Save 40% on token costs while maintaining quality with real-time recommendations and transparent pricing.',
                'claude-3-opus': 'Meet ModelRouter: your AI command center. It intelligently analyzes your task and routes it to the best-fit model from a curated set of providers. No more guessing which tool to use. No more overspending. See cost, quality, and speed tradeoffs upfront. Route smarter, save more.',
                'gemini-pro': 'ModelRouter simplifies AI model selection. Submit your task, and our intelligent router analyzes it, engineers your prompt, and executes across multiple models simultaneously. You get comparison results with cost and quality metrics‚Äîall in one interface.',
                'claude-3-sonnet': 'The AI Model Router for teams that care about cost and quality. Automatically optimize which model handles your request. Compare results side-by-side. No lock-in. Full transparency on pricing and performance.'
            };

            state.selectedModels.forEach(modelKey => {
                const model = MODELS_DATA[modelKey];
                const resultDiv = document.createElement('div');
                resultDiv.className = 'result-item';
                resultDiv.innerHTML = `
                    <div class="result-header">
                        <div class="result-model">${model.name} (${model.provider})</div>
                        <div class="result-meta">
                            <span>‚è±Ô∏è ${model.latencyMs}ms</span>
                            <span>üí∞ $0.12</span>
                            <span>üìä ${model.score}/100</span>
                        </div>
                    </div>
                    <div class="result-content">${mockResponses[modelKey]}</div>
                `;
                container.appendChild(resultDiv);

                totalCost += 0.12;
                totalTokens += Math.floor(Math.random() * 200 + 150);
            });

            document.getElementById('cost-total').textContent = `$${totalCost.toFixed(2)}`;
            document.getElementById('cost-tokens').textContent = totalTokens.toLocaleString();
            document.getElementById('results-status').textContent = `‚úì All ${state.selectedModels.size} models completed!`;
        }

        function showScreen(screenName) {
            // Hide all screens
            document.querySelectorAll('[id^="screen-"]').forEach(el => {
                el.classList.add('hidden');
            });

            // Show selected screen
            document.getElementById(`screen-${screenName}`).classList.remove('hidden');
            state.currentScreen = screenName;

            // Update step indicators
            const steps = ['request', 'clarify', 'prompt', 'route', 'results'];
            const currentIndex = steps.indexOf(screenName);

            steps.forEach((step, i) => {
                const stepEl = document.getElementById(`step-${step}`);
                if (!stepEl) return;
                
                if (i < currentIndex) {
                    stepEl.className = 'step completed';
                } else if (i === currentIndex) {
                    stepEl.className = 'step active';
                } else {
                    stepEl.className = 'step';
                }
            });

            window.scrollTo(0, 0);
        }

        function goBack(screenName) {
            showScreen(screenName);
        }

        function newRequest() {
            state = {
                userInput: '',
                taskCategory: '',
                clarifications: {},
                engineeredPrompt: null,
                selectedModels: new Set(['gpt-4', 'claude-3-opus', 'gemini-pro']),
                results: {},
                currentScreen: 'request'
            };

            document.getElementById('user-input').value = '';
            document.getElementById('task-hint').value = '';
            showScreen('request');
        }

        // Initial screen
        showScreen('request');
    </script>
</body>
</html>